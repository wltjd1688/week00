<!DOCTYPE html>
<html lang="ko">
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
            integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"
            crossorigin="anonymous">
        <link rel="stylesheet" href="{{ url_for('static', filename='main.css')}}">

		<!-- JS -->
        <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"
            integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
            integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
            crossorigin="anonymous"></script>

        <!-- 구글폰트 -->
        <link href="https://fonts.googleapis.com/css2?family=Hahmlet:wght@200&display=swap" rel="stylesheet">

        <!-- style -->
        <style type="text/css">
            * {
                font-family: 'Hahmlet', serif;
            }
        </style>
        <script>
            $(document).ready(function() {
                $(".icon").on("click",(e)=>{               
                    $(".icon").removeClass("bg-fff");
                    $("#"+e.target.id).addClass("bg-fff");
                    e.stopPropagation()
                    e.stopImmediatePropagation()
                });
            });
                
        </script>
        <title>{% block title %}{{ title }}{% endblock title %}</title>
        
    </head>
    {% include "navigation.html"  %}
        {% block  content %}
        <div class="jumbotron jumbotron-fluid mb-0">
            <div class="container">
                <h1 class="display-4">친구가 원하는 선물을 주세요!</h1>
            </div>
        </div>
        <!-- <div class="border-bottom main-nav" id="main-nav">
            <div class="container d-flex justify-content-end">
                <div class="icon" id="icon1">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gift" viewBox="0 0 16 16" id="icon1">
                        <path id="icon1" d="M3 2.5a2.5 2.5 0 0 1 5 0 2.5 2.5 0 0 1 5 0v.006c0 .07 0 .27-.038.494H15a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1v7.5a1.5 1.5 0 0 1-1.5 1.5h-11A1.5 1.5 0 0 1 1 14.5V7a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h2.038A2.968 2.968 0 0 1 3 2.506V2.5zm1.068.5H7v-.5a1.5 1.5 0 1 0-3 0c0 .085.002.274.045.43a.522.522 0 0 0 .023.07zM9 3h2.932a.56.56 0 0 0 .023-.07c.043-.156.045-.345.045-.43a1.5 1.5 0 0 0-3 0V3zM1 4v2h6V4H1zm8 0v2h6V4H9zm5 3H9v8h4.5a.5.5 0 0 0 .5-.5V7zm-7 8V7H2v7.5a.5.5 0 0 0 .5.5H7z"/>
                    </svg>
                </div>
                <div class="icon bg-fff" id="icon2">
                    <svg id="icon2" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gem" viewBox="0 0 16 16">
                        <path id="icon2" d="M3.1.7a.5.5 0 0 1 .4-.2h9a.5.5 0 0 1 .4.2l2.976 3.974c.149.185.156.45.01.644L8.4 15.3a.5.5 0 0 1-.8 0L.1 5.3a.5.5 0 0 1 0-.6l3-4zm11.386 3.785-1.806-2.41-.776 2.413 2.582-.003zm-3.633.004.961-2.989H4.186l.963 2.995 5.704-.006zM5.47 5.495 8 13.366l2.532-7.876-5.062.005zm-1.371-.999-.78-2.422-1.818 2.425 2.598-.003zM1.499 5.5l5.113 6.817-2.192-6.82L1.5 5.5zm7.889 6.817 5.123-6.83-2.928.002-2.195 6.828z"/>
                    </svg>
                </div>
                <div class="icon" id="icon3">
                    <svg id="icon3" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-piggy-bank" viewBox="0 0 16 16">
                        <path id="icon3" d="M5 6.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0zm1.138-1.496A6.613 6.613 0 0 1 7.964 4.5c.666 0 1.303.097 1.893.273a.5.5 0 0 0 .286-.958A7.602 7.602 0 0 0 7.964 3.5c-.734 0-1.441.103-2.102.292a.5.5 0 1 0 .276.962z"/>
                        <path id="icon3" fill-rule="evenodd" d="M7.964 1.527c-2.977 0-5.571 1.704-6.32 4.125h-.55A1 1 0 0 0 .11 6.824l.254 1.46a1.5 1.5 0 0 0 1.478 1.243h.263c.3.513.688.978 1.145 1.382l-.729 2.477a.5.5 0 0 0 .48.641h2a.5.5 0 0 0 .471-.332l.482-1.351c.635.173 1.31.267 2.011.267.707 0 1.388-.095 2.028-.272l.543 1.372a.5.5 0 0 0 .465.316h2a.5.5 0 0 0 .478-.645l-.761-2.506C13.81 9.895 14.5 8.559 14.5 7.069c0-.145-.007-.29-.02-.431.261-.11.508-.266.705-.444.315.306.815.306.815-.417 0 .223-.5.223-.461-.026a.95.95 0 0 0 .09-.255.7.7 0 0 0-.202-.645.58.58 0 0 0-.707-.098.735.735 0 0 0-.375.562c-.024.243.082.48.32.654a2.112 2.112 0 0 1-.259.153c-.534-2.664-3.284-4.595-6.442-4.595zM2.516 6.26c.455-2.066 2.667-3.733 5.448-3.733 3.146 0 5.536 2.114 5.536 4.542 0 1.254-.624 2.41-1.67 3.248a.5.5 0 0 0-.165.535l.66 2.175h-.985l-.59-1.487a.5.5 0 0 0-.629-.288c-.661.23-1.39.359-2.157.359a6.558 6.558 0 0 1-2.157-.359.5.5 0 0 0-.635.304l-.525 1.471h-.979l.633-2.15a.5.5 0 0 0-.17-.534 4.649 4.649 0 0 1-1.284-1.541.5.5 0 0 0-.446-.275h-.56a.5.5 0 0 1-.492-.414l-.254-1.46h.933a.5.5 0 0 0 .488-.393zm12.621-.857a.565.565 0 0 1-.098.21.704.704 0 0 1-.044-.025c-.146-.09-.157-.175-.152-.223a.236.236 0 0 1 .117-.173c.049-.027.08-.021.113.012a.202.202 0 0 1 .064.199z"/>
                    </svg>
                </div>
            </div>
        </div> -->
        <div class="container py-4">
            <div id="products">
                <h5 class="p-3">내 위시리스트</h5>
                <div class="row" id="productsList">
                    <script>
                        function mv_detail(e){
                            e.stopPropagation();
                            var here = e.currentTarget.id
                            var currentUrl = window.location.href;
                            var newUrl = currentUrl.replace(/\/[^\/]*$/, '/item/'+here);
                                window.location.href = newUrl;
                        }
                    </script>
                    {% block my_item %}
                        {% for md in my_item%}
                            <div class="col-12 col-sm-6 col-md-3 pb-3" id="{{ md._id }}" onclick="mv_detail(event)">
                                <div class="card">
                                    <img src="{{ md.img_url }}" class="card-img-top" >
                                    <div class="card-tage">
                                        <div class="progress" style="height: 1px;">
                                            <div class="progress-bar" role="progressbar" style="width: {{ md.fund_rate }}%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                                        </div>
                                        <span class="d-flex justify-content-between perdday">
                                            <p>{{md.fund_rate}}</p>
                                            <p class=" d-inline">{{md.date}}</p>
                                        </span>
                                    </div>
                                    <div class="card-body" style="padding-top:0px !important">
                                        <h5>{{ md.name }}</h5>
                                        <p>{{md.descr}}</p>
                                    </div>
                                </div>
                            </div>
                        {% endfor %}
                    {% endblock my_item %}
                </div>
                <h5 class="p-3">친구들의 위시리스트</h5>
                <div class="row" id="productsList">
                    <!-- 카드 for써서 받은정보 자동으로 나오게 만들기, 물건 -->
                    {% block data %}
                        {% for data_item in data%}
                        <div class="col-12 col-sm-6 col-md-3" id="{{ data_item._id }}" onclick="mv_detail(event)">
                            <div class="media m-auto p-2">
                                <img class="rounded-circle" src="{{ data_item.owner.img }}" class="mr-3" style="width:24px; height:24px;">
                                <p class="mb-1 px-2">{{data_item.owner.name}}</p>
                            </div>
                            <div class="card">
                                <img src="{{ data_item.img_url }}" class="card-img-top" >
                                <div class="card-tage">
                                    <div class="progress" style="height: 1px;">
                                        <div class="progress-bar" role="progressbar" style="width: {{data_item.fund_rate}}%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <span class="d-flex justify-content-between perdday">
                                        <p>{{data_item.fund_rate}}</p>
                                        <p class=" d-inline">{{data_item.date}}</p>
                                    </span>
                                </div>
                                <div class="card-body" style="padding-top:0px !important">
                                    <h5>{{ data_item.name }}</h5>
                                    <p>{{data_item.descr}}</p>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    {% endblock data%}
                    <!--  -->
                </div>
            </div>
        {% endblock  content %}
    </body>
</html>
    